"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const packageJSON = require('../package.json');
const fs = require("fs");
const path = require("path");
const crypto = require("crypto");
const appInsights = require("applicationinsights");
const config = appInsights.setup('6b908c80-d09f-4cf6-8274-e54349a0149a');
config.setInternalLogging(false, false);
// append -dev to the version number when ran locally
// to distinguish production and dev version of the CLI
// in the telemetry
const version = `${packageJSON.version}${fs.existsSync(path.join(__dirname, `..${path.sep}src`)) ? '-dev' : ''}`;
appInsights.defaultClient.commonProperties = {
    version: version,
    node: process.version
};
appInsights.defaultClient.context.tags['ai.session.id'] = crypto.randomBytes(24).toString('base64');
delete appInsights.defaultClient.context.tags['ai.cloud.roleInstance'];
delete appInsights.defaultClient.context.tags['ai.cloud.role'];
exports.default = appInsights.defaultClient;
//# sourceMappingURL=appInsights.js.map